<div id="wrapper">
    <nav class="navbar-default navbar-static-top" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <h1> <a class="navbar-brand" href="index.html">Minimal</a></h1>
        </div>
        <div class=" border-bottom">
            <div class="full-left">
                <section class="full-top">
                    <button id="toggle"><i class="fa fa-arrows-alt"></i></button>
                </section>
                <form class=" navbar-left-right">
              <input type="text" value="Search..." onfocus="this.value = '';"
                onblur="if (this.value == '') {this.value = 'Search...';}">
              <input type="submit" value="" class="fa fa-search">
            </form>
                <div class="clearfix"> </div>
            </div>

            <div class="drop-men">
                <ul class=" nav_1">

                    <li class="dropdown at-drop">
                        <a href="#" class="dropdown-toggle dropdown-at " data-toggle="dropdown"><i
                                class="fa fa-globe"></i> <span class="number">5</span></a>
                        <ul class="dropdown-menu menu1 " role="menu">
                            <li><a href="#">

                                    <div class="user-new">
                                        <p>New user registered</p>
                                        <span>40 seconds ago</span>
                                    </div>
                                    <div class="user-new-left">

                                        <i class="fa fa-user-plus"></i>
                                    </div>
                                    <div class="clearfix"> </div>
                                </a></li>
                            <li><a href="#">
                                    <div class="user-new">
                                        <p>Someone special liked this</p>
                                        <span>3 minutes ago</span>
                                    </div>
                                    <div class="user-new-left">

                                        <i class="fa fa-heart"></i>
                                    </div>
                                    <div class="clearfix"> </div>
                                </a></li>
                            <li><a href="#">
                                    <div class="user-new">
                                        <p>John cancelled the event</p>
                                        <span>4 hours ago</span>
                                    </div>
                                    <div class="user-new-left">
                                        <i class="fa fa-times"></i>
                                    </div>
                                    <div class="clearfix"> </div>
                                </a></li>
                            <li><a href="#">
                                    <div class="user-new">
                                        <p>The server is status is stable</p>
                                        <span>yesterday at 08:30am</span>
                                    </div>
                                    <div class="user-new-left">

                                        <i class="fa fa-info"></i>
                                    </div>
                                    <div class="clearfix"> </div>
                                </a></li>
                            <li><a href="#">
                                    <div class="user-new">
                                        <p>New comments waiting approval</p>
                                        <span>Last Week</span>
                                    </div>
                                    <div class="user-new-left">

                                        <i class="fa fa-rss"></i>
                                    </div>
                                    <div class="clearfix"> </div>
                                </a></li>
                            <li><a href="#" class="view">View all messages</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle dropdown-at" data-toggle="dropdown"><span
                                class=" name-caret">Lê Văn Long<i class="caret"></i></span><img
                                src="./assets/images//wo.jpg"></a>
                        <ul class="dropdown-menu " role="menu">
                            <li><a (click)="logout()"><i class="fa fa-user"></i>Logout</a></li>
                            <li><a [routerLink]="['/profile']" routerLinkActive="router-link-active"><i
                                        class="fa fa-calendar"></i>Profile</a></li>
                            <!-- <li><a href="inbox.html"><i class="fa fa-envelope"></i>Inbox</a></li>
                  <li><a href="calendar.html"><i class="fa fa-calendar"></i>Calender</a></li>
                  <li><a href="inbox.html"><i class="fa fa-clipboard"></i>Tasks</a></li> -->
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="clearfix">
            </div>
            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav" id="side-menu">
                        <li>
                            <a [routerLink]="['/dashboard']" routerLinkActive="router-link-active"
                                class=" hvr-bounce-to-right"><i class="fa fa-dashboard nav_icon "></i><span
                                    class="nav-label">Dashboards</span> </a>
                        </li>
                        <li>
                            <a [routerLink]="['/quan-ly-ho-so']" routerLinkActive="router-link-active"
                                class=" hvr-bounce-to-right"><i class="fa fa-indent nav_icon"></i> <span
                                    class="nav-label">Quản lý hồ
                                    sơ</span></a>
                        </li>
                        <li>
                            <a [routerLink]="['/quan-ly-thu-tuc']" routerLinkActive="router-link-active"
                                class=" hvr-bounce-to-right"><i class="fa fa-indent nav_icon"></i> <span
                                    class="nav-label">Quản lý thủ tục
                                </span></a>
                        </li>
                        <li>
                            <a [routerLink]="['/quan-ly-co-quan']" routerLinkActive="router-link-active"
                                class=" hvr-bounce-to-right"><i class="fa fa-desktop nav_icon"></i> <span
                                    class="nav-label">Quản lý cơ
                                    quan</span></a>
                        </li>
                        <li>
                            <a [routerLink]="['/quan-ly-linh-vuc']" routerLinkActive="router-link-active"
                                class=" hvr-bounce-to-right"><i class="fa fa-list nav_icon"></i> <span
                                    class="nav-label">Quản lý lĩnh
                                    vực</span></a>
                        </li>
                        <li>
                            <a [routerLink]="['/quan-ly-quy-trinh']" routerLinkActive="router-link-active"
                                class=" hvr-bounce-to-right"><i class="fa fa-list nav_icon"></i> <span
                                    class="nav-label">Quản lý quy trình</span></a>
                        </li>
                        <li>
                            <a [routerLink]="['/quan-ly-nguoi-dung']" routerLinkActive="router-link-active"
                                class=" hvr-bounce-to-right"><i class="fa fa-list nav_icon"></i> <span
                                    class="nav-label">Người
                                    dùng</span></a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </nav>
    <div id="page-wrapper" class="gray-bg dashbard-1">
        <div class="content-main">
            <div class="banner">
                <h2>
                    <a href="index.html">Home</a>
                    <i class="fa fa-angle-right"></i>
                    <span>Quan-ly-linh-vuc</span>
                </h2>
            </div><br />
            <div class="banner">
                <div>
                    <h3>Quản lý cơ quan</h3><br />
                    <button style="margin-bottom:1%;" class="btn btn-success" (click)="showAdd()">Thêm +</button>
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th style="width:15%; text-align: center">Tên cơ quan</th>
                                <th style="width:10%; text-align: center">Hình ảnh</th>
                                <th style="width:25%; text-align: center">Địa chỉ</th>
                                <th style="width:10%; text-align: center">Email</th>
                                <th style="width:20%; text-align: center">Số điện thoại</th>
                                <th style="width:20%; text-align: center">Chức năng</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of items">
                                <td>
                                    {{item.ten_co_quan}}
                                </td>
                                <td><img style="width: 50px; height: 50px; vertical-align: middle" *ngIf="item.hinh_anh"
                                        [src]="createImg(item.hinh_anh)"></td>
                                <td>
                                    {{item.dia_chi}}
                                </td>
                                <td>
                                    {{item.email}}
                                </td>
                                <td>
                                    {{item.so_dien_thoai}}
                                </td>

                                <td>
                                    <!-- <button style="margin-left: 2%;" class="btn btn-info"
                                        (click)="showDetail(item.id)"><i class="fa fa-eye"
                                            aria-hidden="true"></i></button> -->
                                    <button style="margin-left: 2%;" class="btn btn-success"
                                        (click)="showEdit(item.id)"><i class="fa fa-pencil"
                                            aria-hidden="true"></i></button>
                                    <button style="margin-left: 2%;" class="btn btn-danger"
                                        (click)="deleteShow(item.id)"><i class="fa fa-trash-o"
                                            aria-hidden="true"></i></button>
                                </td>
                            </tr>

                        </tbody>
                    </table>
                    <p-paginator [rows]="rows" totalRecords="{{totalRecords}}" (onPageChange)="loadData($event)"></p-paginator>

                </div>
            </div>
            <!-- Modal thêm cơ quan -->
            <div bsModal #editAndADD="bs-modal" class="modal fade" tabindex="-1" role="dialog"
                aria-labelledby="dialog-sizes-name1">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <form [formGroup]="form" (ngSubmit)="SaveForm()" *ngIf="entity">
                            <p-toast></p-toast>
                            <div class="modal-header">
                                <h4 id="dialog-sizes-name1" class="modal-title pull-left" style="margin-top: -1%;">Thêm
                                    cơ quan</h4>
                                <button type="button" class="close pull-right" (click)="editAndADD.hide()"
                                    aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">
                                <div class="form-group">
                                    <label for="code">Mã Code:</label>
                                    <input type="text" class="form-control" value="" name="code" formControlName="code">
                                    <div *ngIf="iSubmited && form.controls.code.errors">
                                        <span class="text-danger" *ngIf="form.controls.code.errors.required">Mã Code
                                            không được để trống.</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="ten_co_quan">Tên cơ quan:</label>
                                    <input type="text" class="form-control" value="" name="ten_co_quan"
                                        formControlName="ten_co_quan">
                                    <div *ngIf="iSubmited && form.controls.ten_co_quan.errors">
                                        <span class="text-danger" *ngIf="form.controls.ten_co_quan.errors.required">Tên cơ quan không được để trống.</span>
                                        <span class="error" *ngIf="form.controls.ten_co_quan.errors.maxlength">Tên cơ quan không được lớn hơn 255 ký tự.</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="dia_chi">Địa chỉ:</label>
                                    <input type="text" class="form-control" value="" name="dia_chi"
                                        formControlName="dia_chi">
                                    <div *ngIf="iSubmited && form.controls.dia_chi.errors">
                                        <span class="text-danger" *ngIf="form.controls.dia_chi.errors.required">Địa chỉ không được để trống.</span>
                                        <span class="error" *ngIf="form.controls.dia_chi.errors.maxlength">Địa chỉ không được lớn hơn 255 ký tự.</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="email">Email:</label>
                                    <input type="text" class="form-control" value="" name="email"
                                        formControlName="email">
                                    <div *ngIf="iSubmited && form.controls.email.errors">
                                        <span class="text-danger" *ngIf="form.controls.email.errors.required">Chưa nhập email.</span>
                                        <span class="text-danger" *ngIf="form.controls.email.errors.email">Email không hợp lệ.</span>
                                        <span class="text-danger" *ngIf="form.controls.email.errors.maxlength">Email không được lớn hơn 100 ký tự.</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="so_dien_thoai">Số điện thoại:</label>
                                    <input type="number" class="form-control" value="" name="so_dien_thoai"
                                        formControlName="so_dien_thoai">
                                    <div *ngIf="iSubmited && form.controls.so_dien_thoai.errors">
                                        <span class="text-danger" *ngIf="form.controls.so_dien_thoai.errors.required">Chưa nhập số điện thoại.</span>
                                        <span class="text-danger" *ngIf="form.controls.so_dien_thoai.errors.pattern">Số điện thoại không hợp lệ.</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-sm-4 col-form-label">Chọn lĩnh vực</label>
                                    <select formControlName="linh_vuc" class="form-control" multiple>
                                        <option *ngFor="let item of listLinhvuc" value="{{item.id}}">
                                            {{item.ten_linh_vuc}}</option>
                                    </select>
                                    <div *ngIf="iSubmited && form.controls.linh_vuc.errors">
                                        <span class="text-danger" *ngIf="form.controls.linh_vuc.errors.required">Chưa chọn lĩnh vực.</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-md-4">
                                        <label class="pl-5px">Tỉnh</label>
                                        <div class="field">
                                            <p-dropdown formControlName="city" (onChange)="getDistrict($event.value)"
                                                optionLabel="name" [style]="style" [options]="listCity1"
                                                placeholder="Chọn tỉnh, thành phố" [virtualScroll]="true"
                                                [itemSize]="31" [filter]="false"></p-dropdown>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="pl-5px">Huyện</label>
                                        <div class="field">
                                            <p-dropdown formControlName="district" (onChange)="getCommune($event.value)"
                                                optionLabel="name" [style]="style" [options]="listDistrict"
                                                placeholder="Chọn quận, huyện" [virtualScroll]="true" [itemSize]="31"
                                                [filter]="false"></p-dropdown>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <label class="pl-5px">Xã</label>
                                        <div class="field">
                                            <p-dropdown formControlName="commune" optionValue="id" optionLabel="name"
                                                [style]="style" [options]="listCommune"
                                                placeholder="Chọn xã, phường, thị trấn" [virtualScroll]="true"
                                                [itemSize]="31" [filter]="false"></p-dropdown>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="hinh_anh">Hình ảnh:</label>
                                    <p-fileUpload [multiple]="false" #file accept="image/*" maxFileSize="1000000">
                                    </p-fileUpload>
                                    <!-- <div *ngIf="iSubmited && form.controls.hinh_anh.errors">
                                        <span class="text-danger" *ngIf="form.controls.hinh_anh.errors.required">Hình
                                            ảnh
                                            không được để trống.</span>
                                    </div> -->
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn btn-default">Submit</button>
                                <button type="button" class="btn btn-default" (click)="editAndADD.hide()"
                                    data-dismiss="modal">Close</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <!-- modal sửa cơ quan -->
            <div bsModal #editAndADD1="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="dialog-sizes-name1">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <form [formGroup]="form" (ngSubmit)="SaveForm()" *ngIf="entity">
                        <p-toast></p-toast>
                        <div class="modal-header">
                            <h4 id="dialog-sizes-name1" class="modal-title pull-left" style="margin-top: -1%;">Thêm
                                cơ quan</h4>
                            <button type="button" class="close pull-right" (click)="editAndADD1.hide()"
                                aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div class="form-group">
                                <label for="code">Mã Code:</label>
                                <input type="text" class="form-control" value="" name="code" formControlName="code">
                                <div *ngIf="iSubmited && form.controls.code.errors">
                                    <span class="text-danger" *ngIf="form.controls.code.errors.required">Mã Code
                                        không được để trống.</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="ten_co_quan">Tên cơ quan:</label>
                                <input type="text" class="form-control" value="" name="ten_co_quan"
                                    formControlName="ten_co_quan">
                                <div *ngIf="iSubmited && form.controls.ten_co_quan.errors">
                                    <span class="text-danger" *ngIf="form.controls.ten_co_quan.errors.required">Tên cơ quan không được để trống.</span>
                                    <span class="error" *ngIf="form.controls.ten_co_quan.errors.maxlength">Tên cơ quan không được lớn hơn 255 ký tự.</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="dia_chi">Địa chỉ:</label>
                                <input type="text" class="form-control" value="" name="dia_chi"
                                    formControlName="dia_chi">
                                <div *ngIf="iSubmited && form.controls.dia_chi.errors">
                                    <span class="text-danger" *ngIf="form.controls.dia_chi.errors.required">Địa chỉ không được để trống.</span>
                                    <span class="error" *ngIf="form.controls.dia_chi.errors.maxlength">Địa chỉ không được lớn hơn 255 ký tự.</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="email">Email:</label>
                                <input type="text" class="form-control" value="" name="email"
                                    formControlName="email">
                                <div *ngIf="iSubmited && form.controls.email.errors">
                                    <span class="text-danger" *ngIf="form.controls.email.errors.required">Chưa nhập email.</span>
                                    <span class="text-danger" *ngIf="form.controls.email.errors.email">Email không hợp lệ.</span>
                                    <span class="text-danger" *ngIf="form.controls.email.errors.maxlength">Email không được lớn hơn 100 ký tự.</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="so_dien_thoai">Số điện thoại:</label>
                                <input type="number" class="form-control" value="" name="so_dien_thoai"
                                    formControlName="so_dien_thoai">
                                <div *ngIf="iSubmited && form.controls.so_dien_thoai.errors">
                                    <span class="text-danger" *ngIf="form.controls.so_dien_thoai.errors.required">Chưa nhập số điện thoại.</span>
                                    <span class="text-danger" *ngIf="form.controls.so_dien_thoai.errors.pattern">Số điện thoại không hợp lệ.</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-4 col-form-label">Chọn lĩnh vực</label>
                                <select formControlName="linh_vuc" class="form-control" multiple>
                                    <option *ngFor="let item of listLinhvuc" value="{{item.id}}">
                                        {{item.ten_linh_vuc}}</option>
                                </select>
                                <div *ngIf="iSubmited && form.controls.linh_vuc.errors">
                                    <span class="text-danger" *ngIf="form.controls.linh_vuc.errors.required">Chưa chọn lĩnh vực.</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-md-4">
                                    <label class="pl-5px">Tỉnh</label>
                                    <div class="field">
                                        <select formControlName="city" (change)=" getProvince($event.target.value)"
                                            class="form-control">
                                            <option *ngFor="let item of listCity1" value="{{item.id}}">{{item.name}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <!-- <p-dropdown formControlName="city" (onChange)="getDistrict($event.value)"
                                            optionLabel="name" [style]="style" [options]="listCity"
                                            placeholder="Chọn tỉnh, thành phố" [virtualScroll]="true"
                                            [itemSize]="31" [filter]="false"></p-dropdown> -->
                                <div class="col-md-4">
                                    <label class="pl-5px">Huyện</label>
                                    <div class="field">
                                        <select formControlName="district"
                                            (change)="getCommune($event.target.value)" class="form-control">
                                            <option *ngFor="let item of listDistrict" value="{{item.id}}">
                                                {{item.name}}</option>
                                        </select>
                                        <!-- <p-dropdown formControlName="district" (onChange)="getCommune($event.value)"
                                            optionLabel="name" [style]="style" [options]="listDistrict"
                                            placeholder="Chọn quận, huyện" [virtualScroll]="true" [itemSize]="31"
                                            [filter]="false"></p-dropdown> -->
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <label class="pl-5px">Xã</label>
                                    <div class="field">
                                        <select formControlName="commune" class="form-control">
                                            <option *ngFor="let item of listCommune" value="{{item.id}}">
                                                {{item.name}}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="hinh_anh">Hình ảnh:</label>
                                <!-- <img [src]="createImg(co_quan.hinh_anh)"  alt="..." style="width: 100px; height: 100px;"> -->
                                <p-fileUpload [multiple]="false" #file accept="image/*" maxFileSize="1000000">
                                </p-fileUpload>
                                <!-- <div *ngIf="iSubmited && form.controls.hinh_anh.errors">
                                    <span class="text-danger" *ngIf="form.controls.hinh_anh.errors.required">Hình
                                        ảnh
                                        không được để trống.</span>
                                </div> -->
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="submit" class="btn btn-default">Submit</button>
                            <button type="button" class="btn btn-default" (click)="editAndADD1.hide()"
                                data-dismiss="modal">Close</button>
                        </div>
                    </form>
                </div>
            </div>
            </div>
            <div class="copy">
                <p> &copy; 2020 Minimal. All Rights Reserved | Design by
                </p>
            </div>
        </div>
        <div class="clearfix"> </div>
    </div>
</div>